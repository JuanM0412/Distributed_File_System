syntax = "proto3";

package data_node;

service DataNode {
    rpc SendFile(FileChunk) returns (Reply);
    rpc GetFile(GetFileRequest) returns (stream FileChunk);
}

message FileChunk {
    bytes chunk_data = 1;
    string filename = 2;
    int32 chunk_number = 3;
    int32 total_chunks = 4;
    string username = 5;
}

message Reply {
    int32 length = 1;
}

message GetFileRequest {
    string filename = 1;
}